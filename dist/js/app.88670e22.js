(function(t){function e(e){for(var o,a,c=e[0],u=e[1],s=e[2],l=0,f=[];l<c.length;l++)a=c[l],r[a]&&f.push(r[a][0]),r[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(o=!1)}o&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},r={app:0},i=[];function a(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"754c39cd"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var o=new Promise(function(e,o){n=r[t]=[e,o]});e.push(n[2]=o);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=a(t),i=function(e){u.onerror=u.onload=null,clearTimeout(s);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+o+": "+i+")");a.type=o,a.request=i,n[1](a)}r[t]=void 0}};var s=setTimeout(function(){i({type:"timeout",target:u})},12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var d=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var o=n("64a9"),r=n.n(o);r.a},1554:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" |\n    "),n("router-link",{attrs:{to:"/about"}},[t._v("About")]),t._v(" |\n    "),t.isLogin?n("span",[t._v("欢迎回来！")]):n("router-link",{attrs:{to:"/login"}},[t._v("Login")]),n("span",[t._v(t._s(t.loginState))])],1),n("div",[t._v("\n    RsStore:"+t._s(t.count)+"\n    "),n("button",{on:{click:t.onAdd}},[t._v("自增")])]),n("router-view")],1)},i=[],a=n("cebc"),c=n("d225"),u=n("b0b4"),s=function(){function t(e){Object(c["a"])(this,t),this.state=e.state,this.mutations=e.mutations,this.actions=e.actions,this.vm=new o["default"]({data:{state:this.state}})}return Object(u["a"])(t,[{key:"commit",value:function(t,e){var n=this.mutations[t];n(this.state,e)}},{key:"dispatch",value:function(t,e){var n=this.actions[t],o={commit:this.commit.bind(this),state:this.state,dispatch:this.actions.dispatch.bind(this)};return n(o,e)}}]),t}(),l=new s({state:{count:1},mutations:{add:function(t){t.count++}}}),d=n("2f62"),f={computed:Object(a["a"])({},Object(d["e"])(["isLogin"]),Object(d["c"])(["loginState"]),{count:function(){return l.state.count}}),methods:{onAdd:function(){l.commit("add")}}},p=f,v=(n("034f"),n("2877")),h=Object(v["a"])(p,r,i,!1,null,null,null),m=h.exports,g=(n("7f7f"),n("8c4f")),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("h1",[t._v("首页")]),n("router-view")],1)},b=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[t.title?n("p",{attrs:{title:t.title}},[t._v(t._s(t.title))]):t._e(),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),n("button",{on:{click:t.addGood}},[t._v("添加商品")])]),n("ul",t._l(t.goods,function(e){return n("li",{key:e.id},[n("span",[t._v(t._s(e.text))]),n("span",[t._v("￥"+t._s(e.price))]),n("button",{on:{click:function(n){return t.addCart(e)}}},[t._v("添加购物车")])])}),0),n("Cart",{ref:"Cart",attrs:{title:"title",func:t.propFunc},on:{onSuccess:t.onAddCart}})],1)},x=[],O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("caption",[t._v(t._s(t.title))]),n("table",{attrs:{border:"1"}},[t._m(0),n("tbody",t._l(t.cart,function(e){return n("tr",{key:e.id,class:{inactive:!e.active}},[n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"c.active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.active)?t._i(e.active,null)>-1:e.active},on:{change:function(n){var o=e.active,r=n.target,i=!!r.checked;if(Array.isArray(o)){var a=null,c=t._i(o,a);r.checked?c<0&&t.$set(e,"active",o.concat([a])):c>-1&&t.$set(e,"active",o.slice(0,c).concat(o.slice(c+1)))}else t.$set(e,"active",i)}}})]),n("td",[t._v(t._s(e.text))]),n("td",[t._v("￥"+t._s(e.price))]),n("td",[t._v(t._s(e.count))]),n("td",[t._v("￥"+t._s(e.price*e.count))])])}),0),n("tfoot",[n("tr",[n("td",{attrs:{colspan:"4",align:"right"}},[t._v("总计：")]),n("td",[t._v("￥"+t._s(t.total))])])])])])},j=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th"),n("th",[t._v("商品名")]),n("th",[t._v("单价")]),n("th",[t._v("数量")]),n("th",[t._v("总价")])])])}],w={data:function(){return{}},props:{title:{type:String,default:""},func:{type:Function,default:function(){}}},computed:Object(a["a"])({total:function(){return this.cart.reduce(function(t,e){return e.active&&(t+=e.count*e.price),t},0)}},Object(d["e"])({cart:function(t){return t.cart.list}})),watch:{cart:{deep:!0,handler:function(t,e){localStorage.setItem("cart",JSON.stringify(t))}}},mounted:function(){},methods:{}},k=w,$=(n("8f20"),Object(v["a"])(k,O,j,!1,null,"2aa067e4",null)),C=$.exports,S={name:"HelloWorld",components:{Cart:C},data:function(){return{title:"",text:"",goods:[{id:1,text:"Rversion的布加迪威龙",price:999999999999},{id:2,text:"Rversion的凌府庄园",price:88888888888888900}]}},created:function(){var t=this;setInterval(function(){t.title="Rversion的购物车"},1e3)},methods:{addGood:function(){this.text&&(this.goods.push({id:this.goods.length+1,text:this.text,price:666666666666}),this.text="")},addCart:function(t){this.$bus.$emit("addCart",t)},onAddCart:function(t){console.log("===================================="),console.log("老爹，我成功将".concat(t,"加入购物车了！！！")),console.log("====================================")},propFunc:function(){console.log("===================================="),console.log("我是传递的函数！"),console.log("====================================")}}},P=S,A=Object(v["a"])(P,y,x,!1,null,"33dafe3c",null),E=A.exports,L={name:"home",components:{HelloWorld:E}},R=L,T=Object(v["a"])(R,_,b,!1,null,null,null),q=T.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h2",[t._v("用户登陆")]),n("button",{attrs:{disabled:t.loading},on:{click:t.onLogin}},[t._v(t._s(t.loading?"loading":"登陆"))])])},M=[],F={data:function(){return{loading:!1}},methods:Object(a["a"])({},Object(d["b"])(["login"]),{onLogin:function(){var t=this;this.loading=!0,this.login({username:"Rversion"}).then(function(e){t.loading=!1;var n=t.$route.query.redirect||"/";t.$router.push(n)})}})},H=F,J=Object(v["a"])(H,I,M,!1,null,"79ee7448",null),N=J.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",t._l(t.goods,function(e){return n("li",{key:e.id},[n("router-link",{attrs:{to:"details/"+e.id}},[n("span",[t._v(t._s(e.text))]),n("span",[t._v("￥"+t._s(e.price))]),n("button",{on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.onAddCart(e)}}},[t._v("添加购物车")])])],1)}),0)])},G=[],W={data:function(){return{goods:[{id:1,text:"Rversion的布加迪威龙",price:999999999999},{id:2,text:"Rversion的凌府庄园",price:88888888888888900}]}},methods:Object(a["a"])({},Object(d["d"])(["addCart"]),{onAddCart:function(t){this.addCart(t),this.$router.push("/cart")}})},z=W,B=Object(v["a"])(z,D,G,!1,null,"3657d6f2",null),K=B.exports,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("商品详情")]),n("p",[t._v("参数获取:"+t._s(t.$route.params.id))]),n("p",[t._v("props参数："+t._s(t.id))])])},U=[],V={props:["id"]},X=V,Y=Object(v["a"])(X,Q,U,!1,null,"3febd6a8",null),Z=Y.exports;n("7514");o["default"].use(d["a"]);var tt={state:{list:[]},mutations:{addCart:function(t,e){var n=t.list.find(function(t){return t.id===e.id});n?n.count+=1:t.list.push(Object(a["a"])({},e,{count:1,active:!0}))}}},et=new d["a"].Store({state:{isLogin:!1},getters:{loginState:function(t){return t.isLogin?"欢迎回来":"游客"}},mutations:{login:function(t){t.isLogin=!0}},actions:{login:function(t,e){return console.log("===================================="),console.log(t),console.log(e),console.log("===================================="),new Promise(function(e){setInterval(function(){t.commit("login"),e(!0)},1e3)})}},modules:{cart:tt}});o["default"].use(g["a"]);var nt=new g["a"]({mode:"history",base:"/",routes:[{path:"/",component:q,children:[{path:"",name:"list",component:K},{path:"/Details/:id",name:"details",component:Z,props:!0,meta:{title:"我的",keepAlive:!0,needLogin:!0}}]},{path:"/login",name:"login",component:N},{path:"/cart",name:"cart",component:C},{path:"/about",name:"about",beforeEnter:function(t,e,n){var o=localStorage.getItem("isLogin");o||nt.push({name:"login",query:{redirect:t.fullPath}}),n()},component:function(){return n.e("about").then(n.bind(null,"f820"))}}]});nt.beforeEach(function(t,e,n){var o=["details"],r=et.state.isLogin;if(o.indexOf(t.name)>=0&&!r){if("login"===e.name)return void n("/");n({name:"login",query:{redirect:t.fullPath}})}"login"===t.name&&r?n("/"):n()});var ot=nt,rt=(n("10cb"),n("450d"),n("f3ad")),it=n.n(rt),at=(n("eca7"),n("3787")),ct=n.n(at),ut=(n("425f"),n("4105")),st=n.n(ut),lt=(n("1951"),n("eedf")),dt=n.n(lt);o["default"].use(dt.a),o["default"].use(st.a),o["default"].use(ct.a),o["default"].use(it.a),o["default"].config.productionTip=!1,o["default"].prototype.$bus=new o["default"],new o["default"]({router:ot,store:et,render:function(t){return t(m)}}).$mount("#app")},"64a9":function(t,e,n){},"8f20":function(t,e,n){"use strict";var o=n("1554"),r=n.n(o);r.a}});
//# sourceMappingURL=app.88670e22.js.map